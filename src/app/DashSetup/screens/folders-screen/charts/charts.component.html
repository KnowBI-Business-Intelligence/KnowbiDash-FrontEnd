<div class="container">
  <header>
    <h2>Gráficos</h2>

    <div class="content-filter">
      <div class="filter">
        <button
          pButton
          label="Limpar"
          class="p-button-outlined"
          (click)="clear()"
        >
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
            <path
              d="M3.9 22.9C10.5 8.9 24.5 0 40 0H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L396.4 195.6C316.2 212.1 256 283 256 368c0 27.4 6.3 53.4 17.5 76.5c-1.6-.8-3.2-1.8-4.7-2.9l-64-48c-8.1-6-12.8-15.5-12.8-25.6V288.9L9 65.3C-.7 53.4-2.8 36.8 3.9 22.9zM432 224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm59.3 107.3c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L432 345.4l-36.7-36.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6L409.4 368l-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L432 390.6l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L454.6 368l36.7-36.7z"
            />
          </svg>
        </button>
        <span class="p-input-icon-left">
          <input
            pInputText
            type="text"
            (input)="onInputChange($event)"
            placeholder="Pesquisar gráfico"
          />
        </span>
      </div>

      <button
        role="button"
        class="btn"
        [routerLink]="['create_group']"
        routerLinkActive="router-link-active"
      >
        Adicionar
      </button>
    </div>
  </header>
  <div class="content" *ngIf="filteredItems?.length > 0">
    <a
      class="card"
      *ngFor="let item of filteredItems"
      [routerLink]="['../sql_update']"
      [state]="{ item: item }"
    >
      <div class="card-content">
        <p>
          {{ item.title }}
        </p>
      </div>
    </a>
  </div>

  <div class="content-nochart" *ngIf="filteredItems?.length <= 0">
    <span class="material-symbols-outlined"> warning </span>
    <p>Sem registros encontrados</p>
  </div>
</div>

<div class="createChart" *ngIf="newChart">
  <div class="header">
    <h3>Cadastrar gráfico</h3>
    <button class="btn" type="button" (click)="newChart = false">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
        <path
          d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"
        />
      </svg>
    </button>
  </div>
  <div class="content-createChart">
    <form [formGroup]="chartFormGroup">
      <ng-template matStepLabel>Crie um gráfico</ng-template>
      <mat-form-field>
        <mat-label>Nome do gráfico</mat-label>
        <input
          matInput
          placeholder="Ex: Atendimento"
          formControlName="nameChart"
          required
        />
      </mat-form-field>
      <mat-form-field>
        <mat-label>SQL do gráfico</mat-label>
        <input
          matInput
          placeholder="Ex: Atendimento"
          formControlName="SQL_Chart"
          required
        />
      </mat-form-field>

      <button class="btn" type="button" (click)="createChart()">Salvar</button>
    </form>
  </div>
</div>
